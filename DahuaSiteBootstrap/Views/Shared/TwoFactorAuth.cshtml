@model String

<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta content="width=device-width, initial-scale=1.0" name="viewport">
    <title>Index - Selecao Bootstrap Template</title>
    <meta name="description" content="">
    <meta name="keywords" content="">

    <!-- Favicons -->
    <link href="assets/img/favicon.png" rel="icon">
    <link href="assets/img/apple-touch-icon.png" rel="apple-touch-icon">

    <!-- Fonts -->
    <link href="https://fonts.googleapis.com" rel="preconnect">
    <link href="https://fonts.gstatic.com" rel="preconnect" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Roboto:ital,wght@0,100;0,300;0,400;0,500;0,700;0,900;1,100;1,300;1,400;1,500;1,700;1,900&family=Poppins:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&family=Raleway:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&display=swap" rel="stylesheet">

    <!-- Vendor CSS Files -->
    <link href="/vendor/bootstrap/css/bootstrap.min.css" rel="stylesheet">
    <link href="/vendor/bootstrap-icons/bootstrap-icons.css" rel="stylesheet">
    <link href="/vendor/aos/aos.css" rel="stylesheet">
    <link href="/vendor/animate.css/animate.min.css" rel="stylesheet">
    <link href="/vendor/glightbox/css/glightbox.min.css" rel="stylesheet">
    <link href="/vendor/swiper/swiper-bundle.min.css" rel="stylesheet">
    <link rel="stylesheet" href="/css/downlaod.css">
    <link rel="stylesheet" href="/css/hackerTheme.css" />

    <!-- Main CSS File -->
    <link href="/css/main.css" rel="stylesheet">
    <link href="/css/site.css" rel="stylesheet" />

    <!-- =======================================================
    * Template Name: Selecao
    * Template URL: https://bootstrapmade.com/selecao-bootstrap-template/
    * Updated: Aug 07 2024 with Bootstrap v5.3.3
    * Author: BootstrapMade.com
    * License: https://bootstrapmade.com/license/
    ======================================================== -->
</head>

<body class="index-page" style="background-color:#696969ab">
    @if (TempData["Message"] != null)
    {
        <dialog open class="result-dialog error">@TempData["Message"]</dialog>
    }

    <header id="header" class="header d-flex align-items-center fixed-top">
        <div class="container-fluid container-xl position-relative d-flex align-items-center justify-content-between">

            <a href="index.html" class="logo d-flex align-items-center">
                <!-- Uncomment the line below if you also wish to use an image logo -->
                <!-- <img src="assets/img/logo.png" alt=""> -->
                <h1 class="sitename">АЙТЕХ</h1>
            </a>

            <nav id="navmenu" class="navmenu">
                <ul>

                    <li><a class="bi bi-arrow-left-square fs-5 text-decoration-none" asp-action="Index" asp-controller="Home"></a></li>
                </ul>
                <i class="mobile-nav-toggle d-xl-none bi bi-list"></i>
            </nav>

        </div>
    </header>
    <main class="main">

       <div class="verification-container">
        <div class="logo">
            <svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                <path d="M12 0a12 12 0 100 24 12 12 0 000-24zm-2 17l-5-5 1.4-1.4 3.6 3.6 7.6-7.6L19 8l-9 9z"/>
            </svg>
        </div>
        <h1>Последна стъпка преди да влезете в профила си.</h1>
        <p class="subtitle">@TempData["2FA-message"]</p>
        
        <form id="verificationForm" asp-action="VerifyAuthCode" asp-controller="Admin" enctype="multipart/form-data">
            <div class="code-inputs">
                <input type="text" class="code-input" maxlength="1" pattern="\d" inputmode="numeric" autocomplete="one-time-code" required>
                <input type="text" class="code-input" maxlength="1" pattern="\d" inputmode="numeric" required>
                <input type="text" class="code-input" maxlength="1" pattern="\d" inputmode="numeric" required>
                <input type="text" class="code-input" maxlength="1" pattern="\d" inputmode="numeric" required>
                <input type="text" class="code-input" maxlength="1" pattern="\d" inputmode="numeric" required>
                <input type="text" class="code-input" maxlength="1" pattern="\d" inputmode="numeric" required>
            </div>

                <input type="text" hidden id="code" name="enteredCode" asp-for="@Model" />
            <p class="resend-code">Не получихте код? <a href="#">Изпрати отново</a></p>
            
            <button type="submit" class="verify-button">Потвърди</button>
            
        </form>

    </div>

    </main>
    <footer id="footer" class="footer dark-background">
        <div class="container">
            <h3 class="sitename">АЙТЕХ</h3>
            <div class="container">
                <div class="copyright">
                    <span>Copyright</span> <strong class="px-1 sitename">Selecao</strong> <span>All Rights Reserved</span>
                </div>
                <div class="credits">
                    <!-- All the links in the footer should remain intact. -->
                    <!-- You can delete the links only if you've purchased the pro version. -->
                    <!-- Licensing information: https://bootstrapmade.com/license/ -->
                    <!-- Purchase the pro version with working PHP/AJAX contact form: [buy-url] -->
                    Designed by <a href="https://bootstrapmade.com/">BootstrapMade</a>
                </div>
            </div>
        </div>
    </footer>



</body>

</html>
<style>
 
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;
        }

        main {
            background-color: #a5a5a5;
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            color: #333;
        }

        .verification-container {
            background-color: white;
            border-radius: 12px;
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.08);
            padding: 40px;
            width: 100%;
            max-width: 420px;
            text-align: center;
        }

        .logo {
            margin-bottom: 24px;
        }

        .logo svg {
            width: 48px;
            height: 48px;
            fill: #4a6da7; /* Changed to match login button color */
        }

        h1 {
            font-size: 24px;
            font-weight: 600;
            margin-bottom: 8px;
        }

        .subtitle {
            color: #666;
            margin-bottom: 32px;
            font-size: 15px;
        }

        .code-inputs {
            display: flex;
            justify-content: space-between;
            margin-bottom: 32px;
        }

        .code-input {
            width: 50px;
            height: 60px;
            text-align: center;
            font-size: 24px;
            font-weight: 600;
            border: 1px solid #ddd;
            border-radius: 8px;
            transition: all 0.2s;
            outline: none;
        }

        .code-input:focus {
            border-color: #4a6da7; /* Changed to match login button color */
            box-shadow: 0 0 0 3px rgba(74, 109, 167, 0.2); /* Adjusted to new color */
        }

        .resend-code {
            color: #666;
            font-size: 14px;
            margin-bottom: 24px;
        }

        .resend-code a {
            color: #4a6da7; /* Changed to match login button color */
            text-decoration: none;
            font-weight: 500;
        }

        .resend-code a:hover {
            text-decoration: underline;
        }

        .verify-button {
            background-color: #4a6da7; /* Changed to match login button color */
            color: white;
            border: none;
            border-radius: 8px;
            padding: 14px;
            width: 100%;
            font-size: 16px;
            font-weight: 600;
            cursor: pointer;
            transition: background-color 0.2s;
        }

        .verify-button:hover {
            background-color: #3a5a8a; /* Darker shade of the main color */
        }

        .verify-button:disabled {
            background-color: #cbd5e1;
            cursor: not-allowed;
        }

        .error-message {
            color: #d9534f;
            font-size: 14px;
            margin-top: 16px;
            display: none;
        }

        

</style>
<script>
    let codeInputs = document.querySelectorAll(".code-input");
    let code = document.getElementById("code");

       codeInputs.forEach((input, index) => {
        input.addEventListener('input', function() {
            // Move to next input when a digit is entered
            if (this.value.length === 1 && index < codeInputs.length - 1) {
                codeInputs[index + 1].focus();
            }
            
            // Combine all digits into the hidden input
            const fullCode = Array.from(codeInputs).map(input => input.value).join('');
            code.value = fullCode;
        });
        
        // Handle backspace to move to previous input
        input.addEventListener('keydown', function(e) {
            if (e.key === 'Backspace' && this.value.length === 0 && index > 0) {
                codeInputs[index - 1].focus();
            }
        });
    });

    code.addEventListener("change",new function(){

        if(code.value.length == 5){
           document.querySelector(".verify-button").removeAttribute("disabled");
           
        }

    });
</script>